{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","value","resolve","reason","reject","PermTransitionEvents","this","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermPermission","$injector","PermTransitionProperties","Permission","permissionName","validationFunction","validateConstructor","annotateValidationFunction","wrapInPromise","result","isString","TypeError","isFunction","$inject","prototype","validatePermission","validationLocals","transitionProperties","validationResult","invoke","PermRole","PermPermissionStore","Role","roleName","length","preparePermissionEvaluation","permissions","map","hasPermissionDefinition","permission","getPermissionDefinition","all","validateRole","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","PermRoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","PermPermissionMap","PermPermissionStrategies","restrict","bindToController","sref","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","isSrefStateDefined","has","onAuthorizedAccess","showElement","onUnauthorizedAccess","hideElement","$watchGroup","PermStateAuthorization","get","authorizeByStateName","PermAuthorization","permissionMap","authorizeByPermissionMap","e","error","message","authorizePermissionMap","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMap","normalizeMapProperty","redirectTo","resolveFunctionRedirect","redirectFunction","rejectedPermissionName","redirectState","state","resolveObjectRedirect","redirectObject","ReferenceError","property","call","resolveRedirectState","privilegeName","role","warn","module","exports","name","decorator","enableElement","removeAttr","disableElement","attr","removeClass","addClass","service","factory","directive"],"mappings":";;;;;;;;;;CASC,SAAUA,EAAQC,QAASC,GAC1B,YA4BA,SAASC,GAAGC,GACV,UAeA,SAASC,GAAIC,GACX,GAAIC,GAAWH,EAAUI,QACvBC,EAAU,EACVC,EAAUT,QAAQU,QAAQL,QAqB5B,OAnBAL,SAAQW,QAAQN,EAAU,SAAUO,EAASC,GAC3CL,IACAL,EACGW,KAAKF,GACLG,KAAK,SAAUC,GACdV,EAASW,QAAQD,KAHrBb,SAKS,SAAUe,GACfT,EAAQI,GAAOK,IACPV,GACNF,EAASa,OAAOD,OAKR,IAAZV,GACFF,EAASa,OAAOV,GAGXH,EAASM,QAGlB,MAxCAT,GAAUC,IAAMA,EAwCTD,EAyET,QAASiB,KACP,UAEAC,MAAKC,8BAAgC,WACnC,KAAM,IAAIC,OAAM,+FAGlBF,KAAKG,iCAAmC,WACtC,KAAM,IAAID,OAAM,kGAGlBF,KAAKI,+BAAiC,WACpC,KAAM,IAAIF,OAAM,gGAmBpB,QAASG,GAAexB,EAAIyB,EAAWC,GACrC,UASA,SAASC,GAAWC,EAAgBC,GAClCC,EAAoBF,EAAgBC,GAEpCV,KAAKS,eAAiBA,EACtBT,KAAKU,mBAAqBE,EAA2BF,GAiCvD,QAASG,GAAcC,EAAQL,GAC7B,MAAIK,GACKjC,EAAGe,QAAQa,GAGb5B,EAAGiB,OAAOW,GAanB,QAASE,GAAoBF,EAAgBC,GAC3C,IAAK/B,QAAQoC,SAASN,GACpB,KAAM,IAAIO,WAAU,iDAEtB,KAAKrC,QAAQsC,WAAWP,KAAwB/B,QAAQU,QAAQqB,GAC9D,KAAM,IAAIM,WAAU,uGAcxB,QAASJ,GAA2BF,GAOlC,MANK/B,SAAQU,QAAQqB,EAAmBQ,SAAWR,KAGjDA,GAAsB,iBAAkB,uBAAwBA,IAG3DA,EAGT,MAvEAF,GAAWW,UAAUC,mBAAqB,WACxC,GAAIC,IACFZ,eAAgBT,KAAKS,eACrBa,qBAAsBf,GAEpBgB,EAAmBjB,EAAUkB,OAAOxB,KAAKU,mBAAoB,KAAMW,EAMvE,OAJK1C,SAAQsC,WAAWM,EAAiB7B,QACvC6B,EAAmBV,EAAcU,EAAkBvB,KAAKS,iBAGnDc,GA4DFf,EAkBT,QAASiB,GAAS5C,EAAIyB,EAAWoB,EAAqBnB,GACpD,UAUA,SAASoB,GAAKC,EAAUlB,GACtBC,EAAoBiB,EAAUlB,GAE9BV,KAAK4B,SAAWA,EAChB5B,KAAKU,mBAAqBE,EAA2BF,GAiCvD,QAASG,GAAcC,EAAQc,GAC7B,MAAId,GACKjC,EAAGe,QAAQgC,GAGb/C,EAAGiB,OAAO8B,GAcnB,QAASjB,GAAoBiB,EAAUlB,GACrC,IAAK/B,QAAQoC,SAASa,GACpB,KAAM,IAAIZ,WAAU,2CAGtB,KAAKrC,QAAQU,QAAQqB,KAAwB/B,QAAQsC,WAAWP,GAC9D,KAAM,IAAIM,WAAU,4DAexB,QAASJ,GAA2BF,GAUlC,MARI/B,SAAQU,QAAQqB,KAAwB/B,QAAQsC,WAAWP,EAAmBA,EAAmBmB,OAAS,IAC5GnB,EAAqBoB,EAA4BpB,GACvC/B,QAAQU,QAAQqB,EAAmBQ,SAAWR,KAGxDA,GAAsB,WAAY,uBAAwBA,IAGrDA,EAYT,QAASoB,GAA4BC,GACnC,MAAO,YACL,GAAI/C,GAAW+C,EAAYC,IAAI,SAAUvB,GACvC,GAAIiB,EAAoBO,wBAAwBxB,GAAiB,CAC/D,GAAIyB,GAAaR,EAAoBS,wBAAwB1B,EAE7D,OAAOyB,GAAWd,qBAGpB,MAAOvC,GAAGiB,OAAOW,IAGnB,OAAO5B,GAAGuD,IAAIpD,IAIlB,MAtGA2C,GAAKR,UAAUkB,aAAe,WAC5B,GAAIhB,IACFO,SAAU5B,KAAK4B,SACfN,qBAAsBf,GAEpBgB,EAAmBjB,EAAUkB,OAAOxB,KAAKU,mBAAoB,KAAMW,EAMvE,OAJK1C,SAAQsC,WAAWM,EAAiB7B,QACvC6B,EAAmBV,EAAcU,EAAkBvB,KAAK4B,WAGnDL,GA2FFI,EAaT,QAASD,GAAoBrB,GAC3B,UAwBA,SAASiC,GAAiB7B,EAAgBC,GACxC6B,EAAgB9B,GAAkB,GAAIJ,GAAeI,EAAgBC,GAWvE,QAAS8B,GAAsBC,EAAiB/B,GAC9C,IAAK/B,QAAQU,QAAQoD,GACnB,KAAM,IAAIzB,WAAU,iDAGtBrC,SAAQW,QAAQmD,EAAiB,SAAUhC,GACzC6B,EAAiB7B,EAAgBC,KAUrC,QAASgC,GAA2BjC,SAC3B8B,GAAgB9B,GAUzB,QAASwB,GAAwBxB,GAC/B,MAAO9B,SAAQgE,UAAUJ,EAAgB9B,IAS3C,QAAS0B,GAAwB1B,GAC/B,MAAO8B,GAAgB9B,GASzB,QAASmC,KACP,MAAOL,GAOT,QAASM,KACPN,KArFF,GAAIA,KAEJvC,MAAKsC,iBAAmBA,EACxBtC,KAAKwC,sBAAwBA,EAC7BxC,KAAK0C,2BAA6BA,EAClC1C,KAAKiC,wBAA0BA,EAC/BjC,KAAKmC,wBAA0BA,EAC/BnC,KAAK4C,SAAWA,EAChB5C,KAAK6C,WAAaA,EA4FpB,QAASC,GAAcrB,GACrB,UAoBA,SAASsB,GAAWnB,EAAUlB,GAC5BsC,EAAUpB,GAAY,GAAIH,GAASG,EAAUlB,GAU/C,QAASuC,GAAgBC,GACvB,IAAKvE,QAAQwE,SAASD,GACpB,KAAM,IAAIlC,WAAU,4CAGtBrC,SAAQW,QAAQ4D,EAAS,SAAUxC,EAAoBkB,GACrDmB,EAAWnB,EAAUlB,KAUzB,QAAS0C,GAAqBxB,SACrBoB,GAAUpB,GAUnB,QAASyB,GAAkBzB,GACzB,MAAOjD,SAAQgE,UAAUK,EAAUpB,IASrC,QAAS0B,GAAkB1B,GACzB,MAAOoB,GAAUpB,GASnB,QAASgB,KACP,MAAOI,GAOT,QAASH,KACPG,KArFF,GAAIA,KAEJhD,MAAK+C,WAAaA,EAClB/C,KAAKiD,gBAAkBA,EACvBjD,KAAKsD,kBAAoBA,EACzBtD,KAAKqD,kBAAoBA,EACzBrD,KAAKoD,qBAAuBA,EAC5BpD,KAAK4C,SAAWA,EAChB5C,KAAK6C,WAAaA,EAwIpB,QAASU,GAAoBC,EAAMlD,EAAWmD,EAAmBC,GAC/D,UAEA,QACEC,SAAU,IACVC,kBACEC,KAAM,mBACNC,KAAM,mBACNC,OAAQ,qBACRC,aAAc,2BACdC,eAAgB,8BAElBC,aAAc,aACdC,YAAa,SAAU,WAAY,SAAUC,EAAQC,GA6CnD,QAASC,KACP,MAAOhE,GAAUiE,IAAI,WAAarC,EAAW2B,KAO/C,QAASW,KACH7F,QAAQsC,WAAWiB,EAAW8B,cAChC9B,EAAW8B,eAAeK,GAE1BX,EAAyBe,YAAYJ,GAQzC,QAASK,KACH/F,QAAQsC,WAAWiB,EAAW+B,gBAChC/B,EAAW+B,iBAAiBI,GAE5BX,EAAyBiB,YAAYN,GApEzC,GAAInC,GAAalC,IAEjBoE,GAAOQ,aAAa,kBAAmB,oBAAqB,QAC1D,WACE,IACE,GAAIN,IAAsB,CACxB,GAAIO,GAAyBvE,EAAUwE,IAAI,yBAE3CD,GACGE,qBAAqB7C,EAAW2B,MAChCnE,KAAK,WACJ8E,MAHJK,SAKS,WACLH,UAEC,CACL,GAAIM,GAAoB1E,EAAUwE,IAAI,qBAClCG,EAAgB,GAAIxB,IACtBK,KAAM5B,EAAW4B,KACjBC,OAAQ7B,EAAW6B,QAGrBiB,GACGE,yBAAyBD,GACzBvF,KAAK,WACJ8E,MAHJQ,SAKS,WACLN,OAGN,MAAOS,GACPT,IACAlB,EAAK4B,MAAMD,EAAEE,eAoDzB,QAASL,GAAkBnG,GACzB,UAYA,SAASqG,GAAyBlD,GAChC,MAAOsD,GAAuBtD,GAYhC,QAASsD,GAAuBtD,GAC9B,GAAI/C,GAAWJ,EAAGK,OAIlB,OAFAqG,GAA0BtG,EAAU+C,GAE7B/C,EAASM,QAalB,QAASgG,GAA0BtG,EAAU+C,GAC3C,GAAIwD,GAAiBxD,EAAIyD,wBAAwBzD,EAAI+B,OAErDlF,GAAGE,IAAIyG,GACJ9F,KAAK,SAAUgG,GACdzG,EAASa,OAAO4F,KAFpB7G,SAIS,WACL8G,EAAyB1G,EAAU+C,KAYzC,QAAS2D,GAAyB1G,EAAU+C,GAC1C,IAAKA,EAAI8B,KAAKjC,OAEZ,WADA5C,GAASW,SAIX,IAAIgG,GAAe5D,EAAIyD,wBAAwBzD,EAAI8B,KACnDjF,GAAGE,IAAI6G,GACJlG,KAAK,SAAUmG,GACd5G,EAASW,QAAQiG,KAFrBhH,SAIS,SAAUiH,GACf7G,EAASa,OAAOgG,KAzEtB9F,KAAKkF,yBAA2BA,EAgGlC,QAASzB,GAAkB5E,EAAI2E,EAAMlD,EAAWC,EAA0BuC,EAAepB,GACvF,UAcA,SAASqE,GAAcd,GAErBA,EAAgBA,MAEhBjF,KAAK8D,KAAOkC,EAAqBf,EAAcnB,MAC/C9D,KAAK+D,OAASiC,EAAqBf,EAAclB,QACjD/D,KAAKiG,WAAahB,EAAcgB,WAmElC,QAASC,GAAwBC,EAAkBC,GAKjD,MAJKzH,SAAQU,QAAQ8G,EAAiBjF,SAAWiF,KAC/CA,GAAoB,qBAAsB,uBAAwBA,IAG7DtH,EACJY,KAAKa,EAAUkB,OAAO2E,EAAkB,MACvCL,mBAAoBM,EACpB9E,qBAAsBf,KAEvBb,KAAK,SAAU2G,GACd,MAAI1H,SAAQoC,SAASsF,IAEjBC,MAAOD,GAIP1H,QAAQwE,SAASkD,GACZA,EAGFxH,EAAGiB,WAehB,QAASyG,GAAsBC,EAAgBtE,GAC7C,IAAKvD,QAAQgE,UAAU6D,EAAe,YACpC,KAAM,IAAIC,gBAAe,uEAG3B,IAAIJ,GAAgBG,EAAetE,EAMnC,OAJKvD,SAAQgE,UAAU0D,KACrBA,EAAgBG,EAAe,YAG7B7H,QAAQsC,WAAWoF,IAAkB1H,QAAQU,QAAQgH,GAChDH,EAAwBG,EAAenE,GAG5CvD,QAAQwE,SAASkD,GACZxH,EAAGe,QAAQyG,GAGhB1H,QAAQoC,SAASsF,GACZxH,EAAGe,SACR0G,MAAOD,IAFX,OAgBF,QAASL,GAAqBU,GAC5B,MAAI/H,SAAQoC,SAAS2F,IACXA,GAGN/H,QAAQU,QAAQqH,GACXA,EAGL/H,QAAQsC,WAAWyF,GACdA,EAASC,KAAK,KAAMpG,MAM/B,MA/IAwF,GAAc5E,UAAUyF,qBAAuB,SAAUR,GACvD,MAAIzH,SAAQsC,WAAWjB,KAAKiG,aAAetH,QAAQU,QAAQW,KAAKiG,YACvDC,EAAwBlG,KAAKiG,WAAYG,GAG9CzH,QAAQwE,SAASnD,KAAKiG,YACjBM,EAAsBvG,KAAKiG,WAAYG,GAG5CzH,QAAQoC,SAASf,KAAKiG,YACjBpH,EAAGe,SACR0G,MAAOtG,KAAKiG,aAKTpH,EAAGiB,UAWZiG,EAAc5E,UAAUsE,wBAA0B,SAAUiB,GAE1D,MAAOA,GAAS1E,IAAI,SAAU6E,GAC5B,GAAI/D,EAAcO,kBAAkBwD,GAAgB,CAClD,GAAIC,GAAOhE,EAAcQ,kBAAkBuD,EAC3C,OAAOC,GAAKzE,eAGd,GAAIX,EAAoBO,wBAAwB4E,GAAgB,CAC9D,GAAI3E,GAAaR,EAAoBS,wBAAwB0E,EAC7D,OAAO3E,GAAWd,qBAIpB,MADAoC,GAAKuD,KAAK,sBAAwBF,EAAgB,qBAC3ChI,EAAGiB,OAAO+G,MAsGdd,EAzhCTlH,EAAGqC,SAAW,aACdb,EAAea,SAAW,KAAM,YAAa,4BAC7CO,EAASP,SAAW,KAAM,YAAa,sBAAuB,4BAC9DQ,EAAoBR,SAAW,kBAC/B4B,EAAc5B,SAAW,YACzBqC,EAAoBrC,SAAW,OAAQ,YAAa,oBAAqB,4BACzE8D,EAAkB9D,SAAW,MAC7BuC,EAAkBvC,SAAW,KAAM,OAAQ,YAAa,2BAA4B,gBAAiB,sBACrG,IAAIgB,GAAavD,QAAQqI,OAAO,gBAEV,oBAAXA,SAA6C,mBAAZC,UAA2BD,OAAOC,UAAYA,UACxFD,OAAOC,QAAU/E,EAAWgF,MAyD9BvI,QACGqI,OAAO,cACPG,UAAU,KAAMtI,EAoBnB,IAAI6E,IACF0D,cAAe,SAAU/C,GACvBA,EAASgD,WAAW,aAEtBC,eAAgB,SAAUjD,GACxBA,EAASkD,KAAK,WAAY,aAE5B9C,YAAa,SAAUJ,GACrBA,EAASmD,YAAY,YAEvB7C,YAAa,SAAUN,GACrBA,EAASoD,SAAS,YAItB9I,SACGqI,OAAO,cACPrH,MAAM,2BAA4B+D,GAClC/D,MAAM,uBAAwB+D,EAoBjC,IAAInD,KAEJ5B,SACGqI,OAAO,cACPrH,MAAM,2BAA4BY,GAsBrC5B,QACGqI,OAAO,cACPU,QAAQ,uBAAwB3H,GA8GnCpB,QACGqI,OAAO,cACPW,QAAQ,iBAAkBtH,GA8I7B1B,QACGqI,OAAO,cACPW,QAAQ,WAAYlG,GAyGvB9C,QACGqI,OAAO,cACPU,QAAQ,sBAAuBhG,GAqGlC/C,QACGqI,OAAO,cACPU,QAAQ,gBAAiB5E,GA8I5BnE,QACGqI,OAAO,cACPY,UAAU,aAAcrE,GA0F3B5E,QACGqI,OAAO,cACPU,QAAQ,oBAAqB1C,GAkMhCrG,QACGqI,OAAO,cACPW,QAAQ,oBAAqBlE,IAChC/E,OAAQA,OAAOC","file":"angular-permission.min.js"}